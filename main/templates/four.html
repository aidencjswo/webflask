<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
    <title>숫자 클릭 게임</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .number {
            width: 50px;
            height: 50px;
            background-color: #3498db;
            color: #fff;
            font-size: 24px;
            margin: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
        }
        .modal {
            height : 100vh;
            width : 100vw;
            background-color: black;
        }
    </style>
</head>
<body>
    <div id = 'main-container'>
        <h1>숫자 클릭 게임</h1>
        <p id="timer">00.000</p>
        <button id="startButton">시작</button>
        <div class="container" id="number-container"></div>
        </div>
    <script>
        const numberContainer = document.getElementById('number-container');
        const mainContainer = document.getElementById('main-container');
        let currentNumber = 1;

        let totalCnt = 20;


        let timerInterval;
        let startTime;
        const timerElement = document.getElementById('timer');
        const startButton = document.getElementById('startButton');
        const stopButton = document.getElementById('stopButton');

        startButton.addEventListener('click', startTimer);
        stopButton.addEventListener('click', stopTimer);

        function startTimer() {
            startButton.disabled = true
            setTimeout(() => {
                console.log('2')
                const tempDiv = document.createElement('div')
                tempDiv.className = 'modal'
                const numbers = Array.from({ length: 5 }, (_, i) => i + 1);

                for (let i = numbers.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [numbers[i], numbers[j]] = [numbers[j], numbers[i]];
                }
                // 숫자 버튼 생성
                numbers.forEach((number, index) => {
                    const numberButton = document.createElement('div');
                    numberButton.className = 'number';
                    numberButton.textContent = number;
                    numberButton.addEventListener('click', () => {

                        if (parseInt(numberButton.textContent) === currentNumber) {
                            console.log(numberButton.textContent)
                            numberButton.style.backgroundColor = '#2ecc71';
                            numberButton.style.cursor = 'default';
                            console.log(currentNumber)
                            if(currentNumber == 5){
                                console.log('게임끝')
                                stopTimer()
                            }
                            currentNumber++
                        }
                    });
                    numberContainer.appendChild(numberButton);
                });
                startTime = Date.now();
            timerInterval = setInterval(updateTimer, 10); // 10ms마다 업데이트
            startButton.disabled = true;
            stopButton.disabled = false;
            }, 3000);
            
            
        }

        function stopTimer() {
            clearInterval(timerInterval);
            startButton.disabled = false;
            stopButton.disabled = true;
        }

        function updateTimer() {
            const currentTime = Date.now();
            const elapsedTime = currentTime - startTime;
            const seconds = Math.floor(elapsedTime / 1000);
            const milliseconds = (elapsedTime % 1000).toString().padStart(3, '0');
            timerElement.textContent = `${seconds}.${milliseconds}`;
        }
    </script>
</body>
</html>
